<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">

<head>
	<title>Home</title>
	<th:block th:replace="~{fragments :: head}">
		</th>
</head>

<body>
	<header class="container-fluid mb3">
		<div class="row m-auto text-center">
			<form method="get" th:action="@{/photos}" class=" col-11 row m-auto mt-3">
				<label class="form-label text-start" for="search">Filtra le foto:</label>
				<div class="col-7">
					<input class="form-control" type="text" id="search" name="input" />
				</div>
				<button class="btn btn-primary col-2" type="submit">Cerca</button>
				<div class="col-3">
					<span>oppure -></span>
					<a th:href="@{/photos/create}" class="btn btn-secondary">Carica una foto</a>
				</div>
			</form>
		</div>
	</header>
	<main class="container">
		<div class="row text-center">
			<h1 class="">Galleria</h1>
			<h3 th:text="${error}"></h3>
		</div>
		<div class="row text-center">
			<div class="col-md-auto">
				<h3 th:if="${elencoFoto.size()==0}" class="text-center">Non ci sono foto</h3>
				<table th:unless="${elencoFoto.size()==0}" class="table table-striped">
<!--					<table class="table table-striped">-->
						<thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">Titolo</th>
								<th scope="col">Descrizione</th>
								<th scope="col">Immagine</th>
								<th scope="col">Tag</th>
								<th scope="col">Modifica</th>
								<th scope="col">Cancella</th>
								<th scope="col">Aggiungi Categoria</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="photo : ${elencoFoto}" scope="row">
								<th th:text="${photo.id}" class="col-1" scope="row"></th>
								<td class="col-2">
									<a th:href="@{/photos/{id}(id=${photo.id})}" th:text="${photo.title}"></a>
								</td>
								<td th:text="${photo.description}" class="col-2"></td>
								<td><img th:src="${photo.getUrl()}" class="col-5 img-fluid img-thumbnail"></td>
								<td th:text="${photo.tag}" class="col-2"></td>
								<td>
									<a class="btn btn-primary" th:href="@{'/photos/edit/{id}'(id=${photo.id})}"><i
											class="fa-regular fa-pen-to-square"></i></a>
								</td>
								<td>
									<form action="#" th:action="@{'/photos/delete/{id}'(id=${photo.id})}" method="post">
										<button class="btn btn-danger" type="submit" id="submitButton">
											<i class="fas fa-trash-alt"></i>
										</button>
									</form>
								</td>
								<td>
									TODO
<!--									<a class="btn btn-primary" th:href="@{'categories/create?id={id}'(id=${photo.id})}"><i-->
<!--											class="fa-regular fa-pen-to-square"></i></a>-->
								</td>
							</tr>
						</tbody>
					</table>
			</div>
		</div>
	</main>
	<div th:replace="~{fragments :: script}"></div>
</body>

</html>